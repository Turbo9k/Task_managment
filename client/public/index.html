<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskFlow - Collaborative Task Management</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .fade-enter-active, .fade-leave-active {
            transition: opacity 0.3s ease;
        }
        .fade-enter-from, .fade-leave-to {
            opacity: 0;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .dark {
            background-color: #1a202c !important;
            color: #e2e8f0 !important;
        }
        .dark .bg-white {
            background-color: #2d3748 !important;
        }
        .dark .text-gray-900 {
            color: #e2e8f0 !important;
        }
        .dark .text-gray-600 {
            color: #a0aec0 !important;
        }
        .dark .text-gray-700 {
            color: #e2e8f0 !important;
        }
        .dark .text-gray-500 {
            color: #a0aec0 !important;
        }
        .dark .border-gray-200 {
            border-color: #4a5568 !important;
        }
        .dark .bg-gray-50 {
            background-color: #1a202c !important;
        }
        .dark .bg-gray-100 {
            background-color: #2d3748 !important;
        }
        .dark .hover\:bg-gray-50:hover {
            background-color: #374151 !important;
        }
        .dark .hover\:bg-gray-100:hover {
            background-color: #374151 !important;
        }
    </style>
</head>
<body :class="{ 'dark': darkMode }">
    <div id="app">
        <!-- Navigation -->
        <nav class="bg-white dark:bg-gray-800 shadow-lg border-b border-gray-200 dark:border-gray-700">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <div class="flex items-center">
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-tasks text-2xl text-blue-600"></i>
                            <h1 class="text-2xl font-bold text-blue-600 dark:text-blue-400">TaskFlow</h1>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4">
                        <button @click="toggleDarkMode" class="p-2 rounded-md text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 transition-colors">
                            <i :class="darkMode ? 'fas fa-sun' : 'fas fa-moon'"></i>
                        </button>
                        <button @click="showLoginModal = true" v-if="!isAuthenticated" class="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-2 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105">
                            <i class="fas fa-sign-in-alt mr-2"></i>Login
                        </button>
                        <div v-else class="flex items-center space-x-3">
                            <span class="text-gray-700 dark:text-gray-300">Welcome, {{ user.name }}!</span>
                            <button @click="logout" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors">
                                <i class="fas fa-sign-out-alt mr-2"></i>Logout
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Hero Section -->
        <div class="gradient-bg text-white py-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h1 class="text-5xl font-bold mb-6">Welcome to TaskFlow</h1>
                <p class="text-xl mb-8 opacity-90">Collaborative task management made simple and beautiful</p>
                <div v-if="!isAuthenticated" class="space-x-4">
                    <button @click="showLoginModal = true" class="bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-all duration-300 transform hover:scale-105">
                        <i class="fas fa-rocket mr-2"></i>Get Started
                    </button>
                    <button @click="scrollToFeatures" class="border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-all duration-300">
                        <i class="fas fa-info-circle mr-2"></i>Learn More
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <main class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
            <!-- Features Grid -->
            <div id="features" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
                <div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg card-hover border border-gray-200 dark:border-gray-700">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-tasks text-2xl text-blue-600 dark:text-blue-400"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-3 text-gray-900 dark:text-white">Task Management</h3>
                        <p class="text-gray-600 dark:text-gray-300">Create, organize, and track tasks with ease. Set priorities, deadlines, and subtasks.</p>
                    </div>
                </div>
                <div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg card-hover border border-gray-200 dark:border-gray-700">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-users text-2xl text-green-600 dark:text-green-400"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-3 text-gray-900 dark:text-white">Team Collaboration</h3>
                        <p class="text-gray-600 dark:text-gray-300">Work together in real-time with your team. Share projects and communicate seamlessly.</p>
                    </div>
                </div>
                <div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg card-hover border border-gray-200 dark:border-gray-700">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-chart-line text-2xl text-purple-600 dark:text-purple-400"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-3 text-gray-900 dark:text-white">Analytics</h3>
                        <p class="text-gray-600 dark:text-gray-300">Track progress and measure productivity with detailed insights and reports.</p>
                    </div>
                </div>
            </div>

            <!-- Project Selection & Actions (when authenticated) -->
            <div v-if="isAuthenticated" class="mb-8">
                <div class="flex flex-col md:flex-row items-center justify-between mb-6">
                    <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-4 md:mb-0">Your Workspace</h2>
                    <div class="flex items-center space-x-4">
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-folder text-blue-600"></i>
                            <select v-model="selectedProject" @change="filterTasksByProject" class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white">
                                <option value="all">All Projects</option>
                                <option v-for="project in projects" :key="project.id" :value="project.id">{{ project.name }}</option>
                            </select>
                        </div>
                        <button @click="showCreateProjectModal = true" class="bg-gradient-to-r from-blue-600 to-blue-700 text-white px-4 py-2 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-300">
                            <i class="fas fa-plus mr-2"></i>New Project
                        </button>
                    </div>
                </div>
                
                <div class="flex flex-wrap justify-center gap-4">
                    <div class="relative">
                        <button @click="showAddTaskModal = true" class="bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-lg hover:from-green-700 hover:to-green-800 transition-all duration-300 transform hover:scale-105">
                            <i class="fas fa-tasks mr-2"></i>Add Task
                        </button>
                    </div>
                    <button @click="showNotification" class="bg-gradient-to-r from-purple-600 to-purple-700 text-white px-6 py-3 rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-300 transform hover:scale-105">
                        <i class="fas fa-bell mr-2"></i>Test Notification
                    </button>
                    <button @click="showStats" class="bg-gradient-to-r from-orange-600 to-orange-700 text-white px-6 py-3 rounded-lg hover:from-orange-700 hover:to-orange-800 transition-all duration-300 transform hover:scale-105">
                        <i class="fas fa-chart-bar mr-2"></i>View Stats
                    </button>
                </div>
            </div>

            <!-- Status Messages -->
            <div v-if="message" class="fixed top-20 right-4 p-4 bg-green-100 dark:bg-green-900 border border-green-400 dark:border-green-700 text-green-700 dark:text-green-300 rounded-lg shadow-lg fade-enter-active z-50">
                <div class="flex items-center">
                    <i class="fas fa-check-circle mr-2"></i>
                    {{ message }}
                </div>
            </div>

                <!-- Task List (when authenticated) -->
                <div v-if="isAuthenticated" class="mt-12">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Your Tasks</h2>
                        <div class="flex items-center space-x-2">
                            <span class="text-sm text-gray-500 dark:text-gray-400">{{ completedTasks }}/{{ filteredTasks.length }} completed</span>
                            <div class="w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                                <div class="bg-gradient-to-r from-green-500 to-green-600 h-2 rounded-full" :style="{ width: completionPercentage + '%' }"></div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden">
                        <div v-for="task in filteredTasks" :key="task.id" class="p-6 border-b border-gray-200 dark:border-gray-700 last:border-b-0 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-4">
                                    <input type="checkbox" v-model="task.completed" @change="updateTask(task)" class="w-5 h-5 text-blue-600 rounded focus:ring-blue-500">
                                    <div class="flex-1">
                                        <div class="flex items-center space-x-2 mb-1">
                                            <span :class="{ 'line-through text-gray-500 dark:text-gray-400': task.completed }" class="text-lg font-medium text-gray-900 dark:text-white">{{ task.title }}</span>
                                            <span v-if="task.projectId" :class="getProjectColor(task.projectId)" class="px-2 py-1 rounded-full text-xs font-semibold text-white">
                                                {{ getProjectName(task.projectId) }}
                                            </span>
                                        </div>
                                        <p class="text-sm text-gray-500 dark:text-gray-400">{{ task.description }}</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <span :class="getPriorityClass(task.priority)" class="px-3 py-1 rounded-full text-xs font-semibold">{{ task.priority }}</span>
                                    <button @click="deleteTask(task.id)" class="text-red-500 hover:text-red-700 transition-colors">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div v-if="filteredTasks.length === 0" class="p-8 text-center text-gray-500 dark:text-gray-400">
                            <i class="fas fa-tasks text-4xl mb-4 opacity-50"></i>
                            <p class="text-lg">No tasks found. Try changing the project filter or add a new task!</p>
                        </div>
                    </div>
                </div>

            <!-- Login Modal -->
            <div v-if="showLoginModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-md mx-4">
                    <div class="text-center mb-6">
                        <i class="fas fa-tasks text-4xl text-blue-600 mb-4"></i>
                        <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Welcome to TaskFlow</h2>
                        <p class="text-gray-600 dark:text-gray-400">Choose a demo account to get started</p>
                    </div>
                    
                    <div class="space-y-4">
                        <button @click="loginAs('admin')" class="w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105">
                            <i class="fas fa-crown mr-2"></i>Login as Admin
                        </button>
                        <button @click="loginAs('manager')" class="w-full bg-gradient-to-r from-green-600 to-teal-600 text-white py-3 rounded-lg hover:from-green-700 hover:to-teal-700 transition-all duration-300 transform hover:scale-105">
                            <i class="fas fa-user-tie mr-2"></i>Login as Manager
                        </button>
                        <button @click="loginAs('developer')" class="w-full bg-gradient-to-r from-orange-600 to-red-600 text-white py-3 rounded-lg hover:from-orange-700 hover:to-red-700 transition-all duration-300 transform hover:scale-105">
                            <i class="fas fa-code mr-2"></i>Login as Developer
                        </button>
                    </div>
                    
                    <div class="mt-6 text-center">
                        <button @click="showLoginModal = false; showRegisterModal = true" class="text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors">
                            <i class="fas fa-user-plus mr-2"></i>Create New Account
                        </button>
                    </div>
                    
                    <button @click="showLoginModal = false" class="w-full mt-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors">
                        <i class="fas fa-times mr-2"></i>Cancel
                    </button>
                </div>
            </div>

            <!-- Registration Modal -->
            <div v-if="showRegisterModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-md mx-4">
                    <div class="text-center mb-6">
                        <i class="fas fa-user-plus text-4xl text-green-600 mb-4"></i>
                        <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Create Account</h2>
                        <p class="text-gray-600 dark:text-gray-400">Join TaskFlow and start managing your tasks</p>
                    </div>
                    
                    <form @submit.prevent="register" class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Full Name</label>
                            <input v-model="registerForm.name" type="text" required class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white" placeholder="Enter your full name">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email</label>
                            <input v-model="registerForm.email" type="email" required class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white" placeholder="Enter your email">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Role</label>
                            <select v-model="registerForm.role" required class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white">
                                <option value="">Select your role</option>
                                <option value="admin">Admin - Full access</option>
                                <option value="manager">Manager - Project management</option>
                                <option value="developer">Developer - Development tasks</option>
                                <option value="designer">Designer - UI/UX tasks</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Password</label>
                            <input v-model="registerForm.password" type="password" required class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white" placeholder="Create a password">
                        </div>
                        
                        <button type="submit" class="w-full bg-gradient-to-r from-green-600 to-green-700 text-white py-3 rounded-lg hover:from-green-700 hover:to-green-800 transition-all duration-300 transform hover:scale-105">
                            <i class="fas fa-user-plus mr-2"></i>Create Account
                        </button>
                    </form>
                    
                    <div class="mt-6 text-center">
                        <button @click="showRegisterModal = false; showLoginModal = true" class="text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors">
                            <i class="fas fa-sign-in-alt mr-2"></i>Already have an account? Login
                        </button>
                    </div>
                    
                    <button @click="showRegisterModal = false" class="w-full mt-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors">
                        <i class="fas fa-times mr-2"></i>Cancel
                    </button>
                </div>
            </div>

            <!-- Create Project Modal -->
            <div v-if="showCreateProjectModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-md mx-4">
                    <div class="text-center mb-6">
                        <i class="fas fa-folder-plus text-4xl text-blue-600 mb-4"></i>
                        <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Create New Project</h2>
                        <p class="text-gray-600 dark:text-gray-400">Start a new project to organize your tasks</p>
                    </div>
                    
                    <form @submit.prevent="createProject" class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Project Name</label>
                            <input v-model="newProject.name" type="text" required class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white" placeholder="Enter project name">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Description</label>
                            <textarea v-model="newProject.description" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white" rows="3" placeholder="Describe your project"></textarea>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Color Theme</label>
                            <div class="flex space-x-2">
                                <button v-for="color in projectColors" :key="color.name" @click="newProject.color = color.value" type="button" :class="[color.bg, newProject.color === color.value ? 'ring-2 ring-blue-500' : '']" class="w-8 h-8 rounded-full border-2 border-gray-300 dark:border-gray-600"></button>
                            </div>
                        </div>
                        
                        <button type="submit" class="w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-300 transform hover:scale-105">
                            <i class="fas fa-folder-plus mr-2"></i>Create Project
                        </button>
                    </form>
                    
                    <button @click="showCreateProjectModal = false" class="w-full mt-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors">
                        <i class="fas fa-times mr-2"></i>Cancel
                    </button>
                </div>
            </div>

            <!-- Add Task Modal -->
            <div v-if="showAddTaskModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-md mx-4">
                    <div class="text-center mb-6">
                        <i class="fas fa-tasks text-4xl text-green-600 mb-4"></i>
                        <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Add New Task</h2>
                        <p class="text-gray-600 dark:text-gray-400">Create a custom task or generate a random one</p>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="flex space-x-2">
                            <button @click="taskMode = 'custom'" :class="taskMode === 'custom' ? 'bg-green-600 text-white' : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300'" class="flex-1 py-2 px-4 rounded-lg transition-colors">
                                <i class="fas fa-edit mr-2"></i>Custom Task
                            </button>
                            <button @click="taskMode = 'random'" :class="taskMode === 'random' ? 'bg-green-600 text-white' : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300'" class="flex-1 py-2 px-4 rounded-lg transition-colors">
                                <i class="fas fa-random mr-2"></i>Random Task
                            </button>
                        </div>
                        
                        <!-- Custom Task Form -->
                        <div v-if="taskMode === 'custom'">
                            <form @submit.prevent="createCustomTask" class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Task Title</label>
                                    <input v-model="customTask.title" type="text" required class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white" placeholder="Enter task title">
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Description</label>
                                    <textarea v-model="customTask.description" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white" rows="3" placeholder="Describe the task"></textarea>
                                </div>
                                
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Priority</label>
                                        <select v-model="customTask.priority" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white">
                                            <option value="Low">Low</option>
                                            <option value="Medium">Medium</option>
                                            <option value="High">High</option>
                                        </select>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Project</label>
                                        <select v-model="customTask.projectId" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white">
                                            <option value="">Select Project</option>
                                            <option v-for="project in projects" :key="project.id" :value="project.id">{{ project.name }}</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <button type="submit" class="w-full bg-gradient-to-r from-green-600 to-green-700 text-white py-3 rounded-lg hover:from-green-700 hover:to-green-800 transition-all duration-300 transform hover:scale-105">
                                    <i class="fas fa-plus mr-2"></i>Create Custom Task
                                </button>
                            </form>
                        </div>
                        
                        <!-- Random Task Generator -->
                        <div v-if="taskMode === 'random'">
                            <div class="text-center mb-4">
                                <p class="text-gray-600 dark:text-gray-400 mb-4">Generate a random task from our template library</p>
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Category</label>
                                        <select v-model="randomTask.category" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white">
                                            <option value="development">Development</option>
                                            <option value="design">Design</option>
                                            <option value="marketing">Marketing</option>
                                            <option value="management">Management</option>
                                            <option value="general">General</option>
                                        </select>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Project</label>
                                        <select v-model="randomTask.projectId" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white">
                                            <option value="">Select Project</option>
                                            <option v-for="project in projects" :key="project.id" :value="project.id">{{ project.name }}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <button @click="generateRandomTask" class="w-full bg-gradient-to-r from-purple-600 to-purple-700 text-white py-3 rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-300 transform hover:scale-105">
                                <i class="fas fa-random mr-2"></i>Generate Random Task
                            </button>
                        </div>
                    </div>
                    
                    <button @click="showAddTaskModal = false" class="w-full mt-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors">
                        <i class="fas fa-times mr-2"></i>Cancel
                    </button>
                </div>
            </div>

            <!-- Stats Modal -->
            <div v-if="showStatsModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-8 w-full max-w-2xl mx-4">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Task Statistics</h2>
                        <button @click="showStatsModal = false" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                        <div class="text-center">
                            <div class="text-3xl font-bold text-blue-600 dark:text-blue-400">{{ tasks.length }}</div>
                            <div class="text-sm text-gray-600 dark:text-gray-400">Total Tasks</div>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-green-600 dark:text-green-400">{{ completedTasks }}</div>
                            <div class="text-sm text-gray-600 dark:text-gray-400">Completed</div>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-orange-600 dark:text-orange-400">{{ tasks.length - completedTasks }}</div>
                            <div class="text-sm text-gray-600 dark:text-gray-400">Pending</div>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-purple-600 dark:text-purple-400">{{ Math.round(completionPercentage) }}%</div>
                            <div class="text-sm text-gray-600 dark:text-gray-400">Progress</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        const { createApp, ref, computed } = Vue;

        createApp({
            setup() {
                const darkMode = ref(false);
                const isAuthenticated = ref(false);
                const user = ref({ name: 'Demo User', role: 'user' });
                const message = ref('');
                const showLoginModal = ref(false);
                const showRegisterModal = ref(false);
                const showCreateProjectModal = ref(false);
                const showAddTaskModal = ref(false);
                const showStatsModal = ref(false);
                const registerForm = ref({
                    name: '',
                    email: '',
                    role: '',
                    password: ''
                });
                const selectedProject = ref('all');
                const taskMode = ref('custom');
                const projects = ref([
                    { id: 1, name: 'Website Redesign', description: 'Complete website overhaul', color: 'bg-blue-500' },
                    { id: 2, name: 'Mobile App', description: 'iOS and Android app development', color: 'bg-green-500' },
                    { id: 3, name: 'Database Migration', description: 'Move to new database system', color: 'bg-purple-500' }
                ]);
                const newProject = ref({
                    name: '',
                    description: '',
                    color: 'bg-blue-500'
                });
                const customTask = ref({
                    title: '',
                    description: '',
                    priority: 'Medium',
                    projectId: ''
                });
                const randomTask = ref({
                    category: 'development',
                    projectId: ''
                });
                const projectColors = ref([
                    { name: 'Blue', value: 'bg-blue-500', bg: 'bg-blue-500' },
                    { name: 'Green', value: 'bg-green-500', bg: 'bg-green-500' },
                    { name: 'Purple', value: 'bg-purple-500', bg: 'bg-purple-500' },
                    { name: 'Red', value: 'bg-red-500', bg: 'bg-red-500' },
                    { name: 'Yellow', value: 'bg-yellow-500', bg: 'bg-yellow-500' },
                    { name: 'Pink', value: 'bg-pink-500', bg: 'bg-pink-500' },
                    { name: 'Indigo', value: 'bg-indigo-500', bg: 'bg-indigo-500' },
                    { name: 'Orange', value: 'bg-orange-500', bg: 'bg-orange-500' }
                ]);
                const tasks = ref([
                    { id: 1, title: 'Set up project structure', description: 'Initialize the project with proper folder structure and dependencies', completed: true, priority: 'High', projectId: 1 },
                    { id: 2, title: 'Implement user authentication', description: 'Create login and registration system with JWT tokens', completed: true, priority: 'High', projectId: 1 },
                    { id: 3, title: 'Create task management interface', description: 'Build the main dashboard with task creation and management', completed: false, priority: 'Medium', projectId: 1 },
                    { id: 4, title: 'Add real-time collaboration', description: 'Implement Socket.io for live updates and team collaboration', completed: false, priority: 'Low', projectId: 2 },
                    { id: 5, title: 'Design responsive UI', description: 'Make the interface work perfectly on all devices', completed: false, priority: 'Medium', projectId: 2 },
                    { id: 6, title: 'Database schema design', description: 'Create optimized database structure for the application', completed: true, priority: 'High', projectId: 3 },
                    { id: 7, title: 'Data migration scripts', description: 'Write scripts to migrate existing data to new schema', completed: false, priority: 'Medium', projectId: 3 }
                ]);

                const completedTasks = computed(() => tasks.value.filter(task => task.completed).length);
                const completionPercentage = computed(() => tasks.value.length > 0 ? (completedTasks.value / tasks.value.length) * 100 : 0);
                const filteredTasks = computed(() => {
                    if (selectedProject.value === 'all') {
                        return tasks.value;
                    }
                    return tasks.value.filter(task => task.projectId === parseInt(selectedProject.value));
                });

                const toggleDarkMode = () => {
                    darkMode.value = !darkMode.value;
                    message.value = `Dark mode ${darkMode.value ? 'enabled' : 'disabled'}`;
                    setTimeout(() => { message.value = ''; }, 3000);
                };

                const loginAs = (role) => {
                    const users = {
                        admin: { name: 'Admin User', role: 'admin', email: 'admin@taskflow.com' },
                        manager: { name: 'Manager User', role: 'manager', email: 'manager@taskflow.com' },
                        developer: { name: 'Developer User', role: 'developer', email: 'developer@taskflow.com' }
                    };
                    
                    user.value = users[role];
                    isAuthenticated.value = true;
                    showLoginModal.value = false;
                    message.value = `Welcome ${user.value.name}! You're logged in as ${role}.`;
                    setTimeout(() => { message.value = ''; }, 3000);
                };

                const register = () => {
                    // Simulate registration
                    user.value = {
                        name: registerForm.value.name,
                        email: registerForm.value.email,
                        role: registerForm.value.role
                    };
                    
                    isAuthenticated.value = true;
                    showRegisterModal.value = false;
                    message.value = `Welcome ${user.value.name}! Your ${registerForm.value.role} account has been created successfully.`;
                    
                    // Reset form
                    registerForm.value = {
                        name: '',
                        email: '',
                        role: '',
                        password: ''
                    };
                    
                    setTimeout(() => { message.value = ''; }, 3000);
                };

                const logout = () => {
                    isAuthenticated.value = false;
                    user.value = { name: 'Demo User', role: 'user' };
                    message.value = 'Logged out successfully!';
                    setTimeout(() => { message.value = ''; }, 3000);
                };

                const createProject = () => {
                    if (!newProject.value.name.trim()) {
                        message.value = 'Please enter a project name!';
                        setTimeout(() => { message.value = ''; }, 3000);
                        return;
                    }
                    
                    const project = {
                        id: Date.now(),
                        name: newProject.value.name,
                        description: newProject.value.description,
                        color: newProject.value.color
                    };
                    
                    projects.value.push(project);
                    showCreateProjectModal.value = false;
                    message.value = `Project "${project.name}" created successfully!`;
                    
                    // Reset form
                    newProject.value = {
                        name: '',
                        description: '',
                        color: 'bg-blue-500'
                    };
                    
                    setTimeout(() => { message.value = ''; }, 3000);
                };

                const createCustomTask = () => {
                    if (!customTask.value.title.trim()) {
                        message.value = 'Please enter a task title!';
                        setTimeout(() => { message.value = ''; }, 3000);
                        return;
                    }
                    
                    const task = {
                        id: Date.now(),
                        title: customTask.value.title,
                        description: customTask.value.description,
                        priority: customTask.value.priority,
                        projectId: customTask.value.projectId ? parseInt(customTask.value.projectId) : null,
                        completed: false
                    };
                    
                    tasks.value.push(task);
                    showAddTaskModal.value = false;
                    message.value = `Task "${task.title}" created successfully!`;
                    
                    // Reset form
                    customTask.value = {
                        title: '',
                        description: '',
                        priority: 'Medium',
                        projectId: ''
                    };
                    
                    setTimeout(() => { message.value = ''; }, 3000);
                };

                const generateRandomTask = () => {
                    const taskTemplates = {
                        development: [
                            { title: 'Fix bug in authentication module', description: 'Resolve login issues reported by users', priority: 'High' },
                            { title: 'Implement new API endpoint', description: 'Create RESTful endpoint for user data retrieval', priority: 'Medium' },
                            { title: 'Write unit tests for user service', description: 'Add comprehensive test coverage for user management functions', priority: 'Medium' },
                            { title: 'Optimize database queries', description: 'Improve performance of slow-running database operations', priority: 'Low' },
                            { title: 'Refactor legacy code', description: 'Clean up and modernize old codebase sections', priority: 'Low' }
                        ],
                        design: [
                            { title: 'Create wireframes for new feature', description: 'Design user interface mockups for upcoming functionality', priority: 'High' },
                            { title: 'Update brand guidelines', description: 'Refresh company branding and design standards', priority: 'Medium' },
                            { title: 'Design mobile app icons', description: 'Create app icons for different screen sizes and platforms', priority: 'Medium' },
                            { title: 'User experience research', description: 'Conduct usability testing and gather user feedback', priority: 'Low' },
                            { title: 'Create marketing materials', description: 'Design promotional graphics and social media assets', priority: 'Low' }
                        ],
                        marketing: [
                            { title: 'Launch social media campaign', description: 'Create and execute marketing campaign across platforms', priority: 'High' },
                            { title: 'Write blog post about new features', description: 'Create engaging content to announce product updates', priority: 'Medium' },
                            { title: 'Email newsletter design', description: 'Design and format monthly newsletter for subscribers', priority: 'Medium' },
                            { title: 'SEO optimization', description: 'Improve website search engine rankings and visibility', priority: 'Low' },
                            { title: 'Analytics report analysis', description: 'Review and analyze marketing campaign performance data', priority: 'Low' }
                        ],
                        management: [
                            { title: 'Team performance review', description: 'Conduct quarterly reviews and provide feedback to team members', priority: 'High' },
                            { title: 'Project timeline update', description: 'Review and adjust project schedules based on current progress', priority: 'Medium' },
                            { title: 'Budget planning for next quarter', description: 'Plan and allocate resources for upcoming projects', priority: 'Medium' },
                            { title: 'Client communication', description: 'Update stakeholders on project status and deliverables', priority: 'Low' },
                            { title: 'Process improvement', description: 'Identify and implement workflow optimizations', priority: 'Low' }
                        ],
                        general: [
                            { title: 'Update project documentation', description: 'Keep project docs current and comprehensive', priority: 'High' },
                            { title: 'Organize team meeting', description: 'Schedule and prepare agenda for weekly team sync', priority: 'Medium' },
                            { title: 'Research new tools', description: 'Evaluate potential software and tools for team productivity', priority: 'Medium' },
                            { title: 'Clean up workspace', description: 'Organize files and maintain clean project structure', priority: 'Low' },
                            { title: 'Plan team building activity', description: 'Organize fun team event to boost morale', priority: 'Low' }
                        ]
                    };
                    
                    const categoryTasks = taskTemplates[randomTask.value.category] || taskTemplates.general;
                    const randomTemplate = categoryTasks[Math.floor(Math.random() * categoryTasks.length)];
                    
                    const task = {
                        id: Date.now(),
                        title: randomTemplate.title,
                        description: randomTemplate.description,
                        priority: randomTemplate.priority,
                        projectId: randomTask.value.projectId ? parseInt(randomTask.value.projectId) : null,
                        completed: false
                    };
                    
                    tasks.value.push(task);
                    showAddTaskModal.value = false;
                    message.value = `Random task "${task.title}" generated successfully!`;
                    
                    setTimeout(() => { message.value = ''; }, 3000);
                };

                const filterTasksByProject = () => {
                    // This will be used to filter tasks in the display
                    // For now, we'll just show all tasks
                };

                const getProjectName = (projectId) => {
                    const project = projects.value.find(p => p.id === projectId);
                    return project ? project.name : 'Unknown Project';
                };

                const getProjectColor = (projectId) => {
                    const project = projects.value.find(p => p.id === projectId);
                    return project ? project.color : 'bg-gray-500';
                };

                const addTask = () => {
                    const taskTemplates = [
                        { title: 'Review code changes', description: 'Go through the latest pull requests and provide feedback', priority: 'High' },
                        { title: 'Update documentation', description: 'Keep the project documentation up to date', priority: 'Medium' },
                        { title: 'Fix bug reports', description: 'Address issues reported by users', priority: 'High' },
                        { title: 'Plan next sprint', description: 'Organize tasks for the upcoming development cycle', priority: 'Low' },
                        { title: 'Write unit tests', description: 'Add test coverage for new features', priority: 'Medium' }
                    ];
                    
                    const randomTask = taskTemplates[Math.floor(Math.random() * taskTemplates.length)];
                    const newTask = {
                        id: Date.now(),
                        ...randomTask,
                        completed: false
                    };
                    tasks.value.push(newTask);
                    message.value = `Task "${newTask.title}" added successfully!`;
                    setTimeout(() => { message.value = ''; }, 3000);
                };

                const updateTask = (task) => {
                    message.value = `Task "${task.title}" ${task.completed ? 'completed' : 'uncompleted'}!`;
                    setTimeout(() => { message.value = ''; }, 3000);
                };

                const deleteTask = (taskId) => {
                    const taskIndex = tasks.value.findIndex(task => task.id === taskId);
                    if (taskIndex > -1) {
                        const task = tasks.value[taskIndex];
                        tasks.value.splice(taskIndex, 1);
                        message.value = `Task "${task.title}" deleted successfully!`;
                        setTimeout(() => { message.value = ''; }, 3000);
                    }
                };

                const getPriorityClass = (priority) => {
                    const classes = {
                        'High': 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200',
                        'Medium': 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200',
                        'Low': 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200'
                    };
                    return classes[priority] || 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200';
                };

                const showNotification = () => {
                    const notifications = [
                        'New team member joined the project!',
                        'Deadline approaching for "Website Redesign"',
                        'Code review requested for your latest changes',
                        'Project status updated to "In Progress"',
                        'New comment added to task "Fix bug reports"'
                    ];
                    const randomNotification = notifications[Math.floor(Math.random() * notifications.length)];
                    message.value = ` ${randomNotification}`;
                    setTimeout(() => { message.value = ''; }, 3000);
                };

                const showStats = () => {
                    showStatsModal.value = true;
                };

                const scrollToFeatures = () => {
                    document.getElementById('features').scrollIntoView({ behavior: 'smooth' });
                };

                return {
                    darkMode,
                    isAuthenticated,
                    user,
                    message,
                    showLoginModal,
                    showRegisterModal,
                    showCreateProjectModal,
                    showAddTaskModal,
                    showStatsModal,
                    registerForm,
                    selectedProject,
                    taskMode,
                    projects,
                    newProject,
                    customTask,
                    randomTask,
                    projectColors,
                    tasks,
                    completedTasks,
                    completionPercentage,
                    filteredTasks,
                    toggleDarkMode,
                    loginAs,
                    register,
                    logout,
                    createProject,
                    createCustomTask,
                    generateRandomTask,
                    addTask,
                    updateTask,
                    deleteTask,
                    getPriorityClass,
                    getProjectName,
                    getProjectColor,
                    filterTasksByProject,
                    showNotification,
                    showStats,
                    scrollToFeatures
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
